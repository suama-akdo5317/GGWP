<h1>TOPIC</h1>
<div class="row Masonry-3">
  <% posts.each do |post| %>
    <li class="media mb-4">
      <div class="card">
        <% if post.image.attached? %>
          <% post.image.each do |image|%>
            <%= image_tag image.variant(resize: "300x300") %>
        <% else %>
          <%= image_tag("noimage.png", :size => "300x300") %>
          <% end %>
        <% end %>

      <div class="card-body">
        <h4 class="card-title"><%= link_to post.title, post_path(post.id) %></h4>
      </div>
      
      <div class="card-body">
        <% if post.user.avatar.attached? %>
          <%= image_tag(rails_blob_path(post.user.avatar),:size => "50x50") %>
        <% else %>
          <%= image_tag("nonavatar.jpg", :size => "50x50") %>
        <% end %>
        <%= link_to post.user.username, user_path(post.user.id) %> <span class="text-muted">posted at <%= post.created_at.strftime("%Y-%m-%d %H:%M") %></span>
      </div>
      
      <div>
        <i class="far fa-heart"></i><%= post.likes.count %>
        <i class="far fa-comment-dots"></i><%= post.comments.count %>
      </div>

      
        </div>
    </li>
  <% end %>
  </div>
  
  <div class="pagenate">
    <%= paginate posts %>
  </div>


